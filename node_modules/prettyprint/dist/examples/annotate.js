'use strict';

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

var _prettyPrintObject = require('./../prettyPrintObject');

var _prettyPrintObject2 = _interopRequireDefault(_prettyPrintObject);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const formatAnnotatedObject = subject => {
  let formattedValue;

  const valueIndex = (0, _prettyPrintObject.createValueIndex)();

  formattedValue = (0, _prettyPrintObject2.default)(subject, {
    valueIndex
  });

  const valueIndexData = valueIndex.getValueIndexData();

  formattedValue = _lodash2.default.map(formattedValue.split('\n'), (line, linuNumber) => {
    if (_lodash2.default.has(valueIndexData, linuNumber)) {
      // eslint-disable-next-line
      line += ' : ' + valueIndexData[linuNumber].type;
    }

    return line;
  }).join('\n');

  return formattedValue;
};

/* eslint-disable */
console.log(formatAnnotatedObject({
  foo: 'FOO',
  bar: 'BAR',
  emptyArray: [],
  emptyObject: {},
  arrayWithLiteralValues: [1, 2, 3],
  objectWithLiteralValues: {
    1: 'foo',
    2: 'bar',
    3: 'baz'
  },
  types: [undefined, null, function (a, b) {}, (a, b) => {}, NaN, Infinity, 10.2, true]
}));