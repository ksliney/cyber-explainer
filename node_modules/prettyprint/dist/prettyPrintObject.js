'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.createValueIndex = undefined;

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

var _formatValue = require('./formatValue');

var _formatValue2 = _interopRequireDefault(_formatValue);

var _createValueIndex = require('./createValueIndex');

var _createValueIndex2 = _interopRequireDefault(_createValueIndex);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.createValueIndex = _createValueIndex2.default;

/**
 * @typedef {Object} optionsType
 * @property {string} indentTemplate String used to indent one level of code (default: '    ').
 * @property {valueIndex|null} valueIndex A function used to index values in the object, the line of declaration in the output and the internal type of the value.
 */

/**
 * @param {Object} subject
 * @param {optionsType} options
 * @returns {string}
 */

exports.default = function (subject) {
  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

  if (!_lodash2.default.has(options, 'indentationTemplate')) {
    options.indentationTemplate = '    ';
  }

  if (!_lodash2.default.has(options, 'valueIndex')) {
    options.valueIndex = null;
  }

  return (0, _formatValue2.default)(subject, '', options.indentationTemplate, [], options.valueIndex) + '\n';
};